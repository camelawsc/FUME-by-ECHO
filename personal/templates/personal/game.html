{% extends "personal/header.html" %}

{% block content %}
<!-- head -->
<<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
</head>

<!-- /.home-main -->
    <div class="container">

      <div class="row">

        <div class="col-sm-2 blog-main">

          <div class="blog-post">
            <h4 class="blog-post-title">{{game.title}}</h4>
            <p class="blog-post-meta">Genre: {{game.genre}}</p>
          </div>
        </div>
        <div class="col-sm-9 col-sm-offset-1 blog-sidebar">
        <div style="border-left:thin #000000 solid; height:786px;" />
          <div class="sidebar-module sidebar-module-inset">
            <p>Descriptions</p>
            <p class="tags">Tags:
            {% for tag in game.tag.all%}
              <span class="label label-default">{{tag.name}}</span>
            {% endfor %}
              <button type="submit" class="btn btn btn-xs" id="tagging">add tag</button>
            </p>
      {% for game in object_list %}
        <h5><a href="/game/{{game.id}}"> {{game.title}}</a></h5>
      {% endfor %}
          </div>
        </div><!-- /.blog-sidebar -->

      </div><!-- /.row -->

    </div><!-- /.container -->

    <script>
    $("#tagging").click(function(){
      $("#tagging").remove();
      //tried to make better styling of the input box but failed lol
      /* $(".tags").last().after(`<form method='post' action='/game/{{game.id}}/add_tag'>
        {% csrf_token %}
        <input type="text" style="height: 20px; width: 40px;"/>
      </form>`); */
      $(".tags").last().after(`<form method='post' action='/game/{{game.id}}/add_tag'>
        {% csrf_token %}
        <input type="text" name='t' placeholder="new tag..."/>
        <button type="submit">Add</button>
      </form>`);
    });
    </script>

{% include "personal/includes/htmlsnippet.html" %}
{% endblock %}
